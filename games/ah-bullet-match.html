<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>American Studies — Game 5: Bullet Match (Mastery)</title>

<link rel="stylesheet" href="../styles.css">

<style>
:root{
  --bg:#0b1220; --text:#e7eefc; --muted:#a8b4cf;
  --line:rgba(255,255,255,.12); --radius:18px;
  --accent:#7aa2ff; --good:#2bd576; --bad:#ff5c7a; --warn:#ffd166;
}
body{
  margin:0;
  background:radial-gradient(1200px 800px at 30% 10%, rgba(122,162,255,.18), transparent 60%), var(--bg);
  color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;
  min-height:100vh;
  display:flex;
  align-items:flex-start;
  justify-content:center;
  padding:18px;
}
.gameShell{ width:min(980px,100%); }
.panel{
  background:rgba(17,26,47,.72);
  border:1px solid var(--line);
  border-radius:var(--radius);
  box-shadow:0 12px 35px rgba(0,0,0,.25);
  padding:16px;
}
.row{display:flex; gap:12px; flex-wrap:wrap; align-items:center; justify-content:space-between}
.kpis{display:flex; gap:10px; flex-wrap:wrap}
.kpi{
  padding:8px 10px;
  border:1px solid var(--line);
  border-radius:999px;
  background:rgba(255,255,255,.05);
  color:var(--muted);
  font-size:13px;
}
.kpi strong{color:var(--text)}
.title{font-weight:900; font-size:18px}
.desc{color:var(--muted); font-size:13px}
.pill{
  display:inline-block;
  padding:6px 10px;
  border-radius:999px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.04);
  color:var(--muted);
  font-size:13px;
  margin-top:8px;
}
.hr{height:1px; background:var(--line); margin:14px 0}
.qwrap{margin-top:14px}
.qmeta{color:var(--muted); font-size:13px}
.stem{
  margin-top:10px;
  font-size:18px;
  font-weight:900;
  line-height:1.4;
}
.bullet{
  margin-top:10px;
  padding:12px;
  border-radius:14px;
  border:1px dashed var(--line);
  background:rgba(255,255,255,.05);
  font-size:15px;
}
.choices{display:grid; gap:10px; margin-top:12px}
.choice{
  text-align:left;
  padding:12px;
  border-radius:14px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.04);
  color:var(--text);
  cursor:pointer;
}
.choice:hover{border-color:rgba(122,162,255,.35)}
.choice[disabled]{opacity:.55; cursor:not-allowed}
.msg{
  margin-top:12px;
  border:1px solid var(--line);
  border-radius:14px;
  padding:12px;
  background:rgba(0,0,0,.18);
}
.msg.good{border-color:rgba(43,213,118,.35)}
.msg.bad{border-color:rgba(255,92,122,.35)}
.msg.warn{border-color:rgba(255,209,102,.35)}
.msgTitle{font-weight:900; margin-bottom:6px}
.actions{display:flex; gap:10px; flex-wrap:wrap; margin-top:14px}
.btn{
  border:1px solid var(--line);
  background:rgba(255,255,255,.06);
  color:var(--text);
  padding:10px 12px;
  border-radius:14px;
  cursor:pointer;
  font-weight:900;
}
.btn.good{background:rgba(43,213,118,.14)}
.btn.bad{background:rgba(255,92,122,.12)}
.btn.primary{background:rgba(122,162,255,.18)}
.btn[disabled]{opacity:.5; cursor:not-allowed}
.nameGate{display:grid; gap:10px; margin-top:10px}
input{
  padding:12px;
  border-radius:14px;
  border:1px solid var(--line);
  background:rgba(255,255,255,.04);
  color:var(--text);
}
.finishCard{
  margin-top:14px;
  padding:14px;
  border-radius:18px;
  border:1px solid var(--line);
  background:rgba(0,0,0,.18);
}
.code{
  font-family:monospace;
  font-size:13px;
  background:rgba(255,255,255,.04);
  border:1px solid var(--line);
  border-radius:14px;
  padding:10px;
  white-space:pre-wrap;
}
</style>
</head>

<body>
<div class="gameShell">
<div class="panel">

<div class="row">
<div>
<div class="title">American Studies — Game 5</div>
<div class="desc">Bullet Match • Content Elaboration Conditioning • 100% mastery required</div>
<div class="pill">Match the bullet-point fact to the correct topic.</div>
</div>
<div class="kpis">
<div class="kpi"><strong>Name:</strong> <span id="nameOut">—</span></div>
<div class="kpi"><strong>Score:</strong> <span id="scoreOut">0 / 0</span></div>
<div class="kpi"><strong>Accuracy:</strong> <span id="accOut">0%</span></div>
<div class="kpi"><strong>Progress:</strong> <span id="progOut">0 / 0</span></div>
</div>
</div>

<div class="hr"></div>

<div id="gate">
<div class="msg warn">
<div class="msgTitle">Start</div>
Enter your name to begin. Mastery requires 100% accuracy.
</div>
<div class="nameGate">
<input id="nameIn" type="text" placeholder="Student Name"/>
<button class="btn primary" id="btnStart">Start Game</button>
</div>
</div>

<div id="game" style="display:none;">
<div class="qwrap">
<div class="qmeta">Question <span id="qNum">1</span> / <span id="qTotal">0</span></div>
<div class="stem">Which topic BEST matches this content elaboration bullet?</div>
<div class="bullet" id="bulletText"></div>
<div class="choices" id="choices"></div>

<div class="msg" id="feedback" style="display:none;">
<div class="msgTitle" id="fbTitle"></div>
<div id="fbText"></div>
</div>

<div class="actions">
<button class="btn bad" id="btnRestart">Restart Run</button>
<button class="btn good" id="btnFinish" disabled>Finish / Submit</button>
</div>
</div>

<div id="finish" style="display:none;">
<div class="finishCard">
<div class="msgTitle">Run Summary</div>
<div class="code" id="summaryCode"></div>
<button class="btn primary" id="btnNewRun">New Run</button>
</div>
</div>
</div>

</div>
</div>

<script>
(function(){
"use strict";

var questions = [

/* INDUSTRIALIZATION & URBANIZATION */

{
bullet:"Rapid factory expansion created high demand for industrial workers in urban centers.",
choices:{A:"Urbanization",B:"Reservation System",C:"Plessy v. Ferguson",D:"Dawes Act"},
answer:"A",
explain:"Industrial job growth pulled workers into cities, accelerating urbanization."
},
{
bullet:"Overcrowded housing with poor ventilation and sanitation increased the spread of tuberculosis and cholera.",
choices:{A:"Settlement Houses",B:"Tenement Housing",C:"Laissez-Faire",D:"Homestead Act"},
answer:"B",
explain:"Tenement housing often lacked sanitation and space, contributing to disease spread."
},
{
bullet:"Assembly-line production divided manufacturing into repeated tasks to increase efficiency.",
choices:{A:"Labor Unions",B:"Trusts",C:"Mass Production",D:"Sharecropping"},
answer:"C",
explain:"Mass production through assembly lines increased speed and output in factories."
},
{
bullet:"Limited government regulation allowed businesses to expand rapidly with little oversight.",
choices:{A:"Laissez-Faire",B:"Progressivism",C:"Antitrust Reform",D:"Populism"},
answer:"A",
explain:"Laissez-faire policies minimized regulation, enabling rapid corporate growth."
},
{
bullet:"Large corporations combined to eliminate competition and control markets.",
choices:{A:"Temperance Movement",B:"Trusts and Monopolies",C:"Urbanization",D:"Reservation Policy"},
answer:"B",
explain:"Trusts and monopolies consolidated industries to reduce competition."
},
{
bullet:"Workers organized collectively to demand improved wages and safer working conditions.",
choices:{A:"Labor Unions",B:"Jim Crow Laws",C:"Dawes Act",D:"Isolationism"},
answer:"A",
explain:"Labor unions formed to negotiate for better wages, hours, and safety."
},
{
bullet:"Strikes and boycotts were used as tactics to pressure employers during labor disputes.",
choices:{A:"Settlement Houses",B:"Labor Movement",C:"Plessy v. Ferguson",D:"Great Migration"},
answer:"B",
explain:"The labor movement used strikes to gain bargaining power."
},

/* IMMIGRATION & URBAN LIFE */

{
bullet:"Immigrants often settled in ethnic neighborhoods where language and cultural traditions were preserved.",
choices:{A:"Cultural Diffusion",B:"Jim Crow",C:"Assimilation Policy",D:"Trust Formation"},
answer:"A",
explain:"Ethnic neighborhoods helped preserve traditions while contributing to broader cultural diffusion."
},
{
bullet:"Community centers provided education, childcare, and assistance to immigrants.",
choices:{A:"Settlement Houses",B:"Reservation System",C:"Monopolies",D:"Reconstruction"},
answer:"A",
explain:"Settlement houses supported immigrant families in urban areas."
},
{
bullet:"Competition for jobs and housing sometimes fueled anti-immigrant sentiment.",
choices:{A:"Urban Reform",B:"Nativism",C:"Antitrust Policy",D:"Populism"},
answer:"B",
explain:"Nativism reflected hostility toward immigrants due to economic and cultural tensions."
},

/* GREAT MIGRATION & JIM CROW */

{
bullet:"African Americans migrated north seeking industrial jobs and escape from segregation.",
choices:{A:"Homestead Act",B:"Great Migration",C:"Progressivism",D:"Isolationism"},
answer:"B",
explain:"The Great Migration involved movement north for jobs and freedom from Jim Crow oppression."
},
{
bullet:"Segregation laws in the South limited African Americans’ political and social rights.",
choices:{A:"Jim Crow Laws",B:"Dawes Act",C:"Settlement Houses",D:"Trust Policy"},
answer:"A",
explain:"Jim Crow laws enforced racial segregation and discrimination."
},
{
bullet:"The Supreme Court upheld segregation under the doctrine of 'separate but equal.'",
choices:{A:"Sherman Antitrust Act",B:"Plessy v. Ferguson",C:"Homestead Act",D:"Muckrakers"},
answer:"B",
explain:"Plessy v. Ferguson upheld segregation and legitimized discrimination."
},

/* WESTWARD EXPANSION */

{
bullet:"Tribal lands were divided into individual plots to encourage farming and assimilation.",
choices:{A:"Homestead Act",B:"Dawes Act",C:"Settlement Houses",D:"Trust Formation"},
answer:"B",
explain:"The Dawes Act broke up communal tribal lands to promote assimilation."
},
{
bullet:"Government policy confined Native American tribes to designated lands.",
choices:{A:"Reservation System",B:"Urbanization",C:"Labor Reform",D:"Populism"},
answer:"A",
explain:"The reservation system restricted tribes to specific territories."
},
{
bullet:"Railroad expansion encouraged settlement and economic development in western territories.",
choices:{A:"Industrial Capitalism",B:"Westward Expansion",C:"Isolationism",D:"Jim Crow"},
answer:"B",
explain:"Railroads supported migration, trade, and economic growth in the West."
},

/* PROGRESSIVE ERA */

{
bullet:"Journalists exposed corruption, unsafe products, and political abuses.",
choices:{A:"Muckrakers",B:"Monopolies",C:"Jim Crow",D:"Homestead Act"},
answer:"A",
explain:"Muckrakers increased public awareness and pressure for reform."
},
{
bullet:"Reforms aimed to reduce the power of trusts and promote fair competition.",
choices:{A:"Antitrust Legislation",B:"Reservation Policy",C:"Urban Decline",D:"Isolationism"},
answer:"A",
explain:"Antitrust laws targeted monopolies and corporate consolidation."
},
{
bullet:"Public outrage over unsafe food production led to government regulation.",
choices:{A:"Sherman Antitrust Act",B:"Pure Food and Drug Act",C:"Dawes Act",D:"Jim Crow Laws"},
answer:"B",
explain:"Food safety reforms were passed in response to investigative reports."
},
{
bullet:"Political machines controlled city governments through patronage and corruption.",
choices:{A:"Urban Political Machines",B:"Labor Unions",C:"Isolationism",D:"Trusts"},
answer:"A",
explain:"Political machines influenced elections and distributed jobs for loyalty."
},

/* ECONOMIC & SOCIAL TRANSFORMATION */

{
bullet:"Mechanized farming reduced the need for agricultural labor.",
choices:{A:"Urbanization",B:"Industrial Capitalism",C:"Mechanization",D:"Settlement Houses"},
answer:"C",
explain:"Mechanization decreased rural job demand, pushing workers toward cities."
},
{
bullet:"Electric power enabled new technologies that changed communication and daily life.",
choices:{A:"Technological Innovation",B:"Jim Crow",C:"Reservation System",D:"Populism"},
answer:"A",
explain:"Electricity powered appliances and communication tools that transformed life."
},
{
bullet:"Consumer culture expanded as goods became cheaper and more widely available.",
choices:{A:"Mass Production",B:"Isolationism",C:"Reconstruction",D:"Temperance"},
answer:"A",
explain:"Mass production lowered costs and increased consumer access."
},

/* CIVIL RIGHTS ROOTS */

{
bullet:"Voting restrictions such as literacy tests reduced African American political participation.",
choices:{A:"Jim Crow Laws",B:"Settlement Houses",C:"Monopolies",D:"Westward Expansion"},
answer:"A",
explain:"Voting barriers reinforced racial inequality and political exclusion."
},
{
bullet:"Violence and intimidation were used to maintain white supremacy in the South.",
choices:{A:"Industrial Capitalism",B:"Ku Klux Klan Activity",C:"Antitrust Reform",D:"Urbanization"},
answer:"B",
explain:"Groups like the KKK used violence to suppress civil rights."
},

/* REVIEW MIX */

{
bullet:"Government policies encouraged western settlers to claim land for farming.",
choices:{A:"Homestead Act",B:"Jim Crow Laws",C:"Trust Formation",D:"Isolationism"},
answer:"A",
explain:"The Homestead Act granted land to settlers willing to farm it."
},
{
bullet:"Rapid population growth overwhelmed city infrastructure, leading to sanitation crises.",
choices:{A:"Urbanization",B:"Reservation Policy",C:"Isolationism",D:"Dawes Act"},
answer:"A",
explain:"Urban growth strained water, sewage, and housing systems."
},
{
bullet:"Workers sought shorter hours and higher wages through collective bargaining.",
choices:{A:"Labor Unions",B:"Settlement Houses",C:"Jim Crow",D:"Antitrust"},
answer:"A",
explain:"Collective bargaining was a key labor union strategy."
},
{
bullet:"Corporations used horizontal and vertical integration to reduce competition.",
choices:{A:"Trust Formation",B:"Populism",C:"Reconstruction",D:"Isolationism"},
answer:"A",
explain:"Integration strategies allowed corporations to dominate industries."
}
];


function $(id){return document.getElementById(id);}

var state={player:"",idx:0,order:[],correct:0,misses:0,missedSet:{}};

function shuffle(arr){
var a=arr.slice();
for(var i=a.length-1;i>0;i--){
var j=Math.floor(Math.random()*(i+1));
var t=a[i];a[i]=a[j];a[j]=t;
}
return a;
}

function calcAcc(){
var total=questions.length;
return Math.round(((total-state.misses)/total)*100);
}

function updateKPIs(){
$("nameOut").textContent=state.player||"—";
$("scoreOut").textContent=state.correct+" / "+questions.length;
$("accOut").textContent=calcAcc()+"%";
$("progOut").textContent=state.idx+" / "+questions.length;
}

function renderQuestion(){
var q=questions[state.order[state.idx]];
$("qNum").textContent=state.idx+1;
$("qTotal").textContent=questions.length;
$("bulletText").textContent=q.bullet;

var html="";
for(var key in q.choices){
html+='<button class="choice" data-key="'+key+'"><strong>'+key+'.</strong> '+q.choices[key]+'</button>';
}
$("choices").innerHTML=html;

var btns=$("choices").querySelectorAll("button.choice");
for(var i=0;i<btns.length;i++){
btns[i].addEventListener("click",function(){
checkAnswer(this.getAttribute("data-key"));
});
}

updateKPIs();
}

function checkAnswer(choice){
var qIndex=state.order[state.idx];
var q=questions[qIndex];

if(choice===q.answer){
state.correct++;
$("feedback").style.display="block";
$("feedback").className="msg good";
$("fbTitle").textContent="Correct";
$("fbText").textContent=q.explain;
setTimeout(nextQuestion,2000);
}else{
if(!state.missedSet[qIndex]){
state.missedSet[qIndex]=true;
state.misses++;
}
$("feedback").style.display="block";
$("feedback").className="msg bad";
$("fbTitle").textContent="Not yet";
$("fbText").textContent="Re-read the bullet and identify the specific content topic.";
}
updateKPIs();
}

function nextQuestion(){
state.idx++;
if(state.idx>=questions.length){
$("btnFinish").disabled=calcAcc()!==100;
return;
}
$("feedback").style.display="none";
renderQuestion();
}

function startRun(){
var idxs=[];
for(var i=0;i<questions.length;i++)idxs.push(i);
state.order=shuffle(idxs);
state.idx=0;
state.correct=0;
state.misses=0;
state.missedSet={};
renderQuestion();
}

$("btnStart").addEventListener("click",function(){
var name=$("nameIn").value.trim();
if(!name){alert("Enter your name.");return;}
state.player=name;
$("gate").style.display="none";
$("game").style.display="block";
startRun();
});

$("btnRestart").addEventListener("click",startRun);

})();
</script>
</body>
</html>

